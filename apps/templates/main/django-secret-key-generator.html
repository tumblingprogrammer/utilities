

{% extends "base.html" %}
{% load bootstrap3 %}
{% load fontawesome %}
{% load staticfiles %}

{% block title %} Django secret key generator
{% endblock %}

{% block head %}
{% endblock %}


{% block content %}


    <div class="container top-content-container">
        <h3>Django secret key generator</h3>


        <div class="slugify-results">
            <span id="django-secret-key-text">{{ django_secret_key }}</span>
        </div>
        <div class="button-bar-div">
            <div class="button-div inline"><input id="copy-to-clipboard-btn" class="btn btn-primary" type="button"
                                                  value="copy to clipboard"
                                                  data-clipboard-target="#django-secret-key-text"></div>
            <div class="button-div inline"><input id="refresh-btn" class="btn btn-primary" type="button"
                                                  value="generate a different key"></div>
        </div>


    </div>

    <div class="wrapper-div">
        <div class="alert alert-success fade centered-div" id="message-div" style="margin-top:18px;">
            <span id="success"></span>
        </div>
    </div>





{% endblock %}

{% block scripts %}

    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"></script>

    <script type="text/javascript">

        var clipboard = new Clipboard('.btn'); // instantiation of clipboard.js

        $('#refresh-btn').on('click', function () {
            location.reload();
        });


        clipboard.on('success', function (e) {
            $('#message-div').removeClass('in');
            console.info('Action:', e.action);
            console.info('Text:', e.text);
            console.info('Trigger:', e.trigger);
            e.clearSelection();
            $('#success').text("copied to clipboard!");
            $('#message-div').addClass('in');
        });

        clipboard.on('error', function (e) {
            console.error('Action:', e.action);
            console.error('Trigger:', e.trigger);
        });


    </script>

{% endblock %}